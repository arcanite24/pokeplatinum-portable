# PokÃ©mon Platinum SDL3 Port

This is an **SDL3 port** of the PokÃ©mon Platinum decompilation, making the game **portable to modern platforms**. This fork focuses exclusively on SDL3 portability and does not maintain the original Nintendo DS build.

**Note:** This is a port fork. For the original decompilation project with DS build support, see the [upstream pret repository](https://github.com/pret/pokeplatinum).

## Project Goals

1. **Cross-platform portability** - Run on Windows, macOS, Linux, iOS, and Android using SDL3
2. **Incremental porting** - Stub-first approach: all DS functions preserved as SDL3 stubs, ported incrementally as needed
3. **Preserve game functionality** - Maintain original gameplay while modernizing the platform layer
4. **Clean architecture** - Platform Abstraction Layer (PAL) separates game logic from platform specifics

For the comprehensive SDL3 porting roadmap, see [`PORTING_PLAN.md`](PORTING_PLAN.md).

## Build & Run

### SDL3 Port (This Repository)

**Current Status:**
- âœ… Phase 1: Foundation & Build System complete
- âœ… Phase 2: Display System complete (graphics primitives, backgrounds, sprites)
- âœ… Phase 3: Input System complete (keyboard, mouse, gamepad with hot-plug)
- ðŸš§ Phase 3.4: Game Integration (graphics loading - in progress)
- ðŸ“‹ Phase 4: Audio System (planned)
- ðŸ“‹ Phase 5: File System (planned)

See [`QUICKSTART_SDL.md`](QUICKSTART_SDL.md) for detailed build instructions and [`PORTING_PLAN.md`](PORTING_PLAN.md) for the full roadmap.

**Target Platforms:**
- âœ… macOS (tested - Apple Silicon and Intel)
- ðŸš§ Windows (planned)
- ðŸš§ Linux (planned)
- ðŸ“‹ iOS (future)
- ðŸ“‹ Android (future)

**Quick Start:**
```bash
# 1. Install dependencies (macOS)
brew install cmake sdl3

# Or on Linux
sudo apt install cmake libsdl3-dev  # Ubuntu/Debian
sudo dnf install cmake SDL3-devel   # Fedora

# 2. Extract game assets from your legal ROM copy
./tools/convert_assets.sh path/to/platinum.us.nds

# 3. Build and run
./build_sdl.sh
./build-sdl/pokeplatinum_sdl
```

**Important:** You must provide your own legally obtained PokÃ©mon Platinum US ROM. The asset extraction scripts in `tools/` will convert ROM data to SDL-compatible formats in the `resources/` directory (gitignored - not included in repository).

## Resource Management

**Asset Extraction Strategy:**

This repository uses a **clean separation** between source code and game assets:

- **`/resources/`** - Runtime assets extracted from your ROM (gitignored)
  - Generated by `tools/convert_assets.sh` from a legal ROM copy
  - Required for SDL3 build to run
  - Not included in repository - users must extract from their own ROM

- **`/res/`** - Original DS build assets (reference only for SDL3 port)
  - Used by original Meson/DS build system
  - Referenced for implementation patterns and asset structure
  - SDL3 build does **not** depend on this directory

- **`/build/`** - Original DS build output (not used by SDL3)
  - Generated by Meson build (DS target only)
  - SDL3 build uses CMake with `build-sdl/` output directory
  - Do not reference `/build/` in SDL3 code

**For SDL3 Development:**
1. Extract assets: `./tools/convert_assets.sh your_rom.nds`
2. Assets appear in `resources/graphics/`, `resources/audio/`, etc.
3. Code references assets via `resources/` paths only
4. Extraction tools in `tools/` are maintained and extended as needed

This approach is **scalable** - as more game systems are ported, corresponding extraction tools are added to `tools/` and assets are extracted to `resources/`.

## Documentation

- **[QUICKSTART_SDL.md](QUICKSTART_SDL.md)** - Build instructions and quick start guide
- **[PORTING_PLAN.md](PORTING_PLAN.md)** - Comprehensive porting strategy and roadmap
- **[PAL.md](PAL.md)** - Platform Abstraction Layer documentation
- **[PHASE*_SUMMARY.md](.)** - Phase completion summaries with implementation details

## Original Nintendo DS Build

This fork does not support building the original Nintendo DS ROM. For DS build support, see the [upstream pret/pokeplatinum repository](https://github.com/pret/pokeplatinum).

The original DS build produced these ROMs:
* **pokeplatinum.us.nds** (Rev 1): `sha1: 0862ec35b24de5c7e2dcb88c9eea0873110d755c`
* **pokeplatinum.us.nds** (Rev 0): `sha1: ce81046eda7d232513069519cb2085349896dec7`

## Community

For contacts and other pret projects, see [pret.github.io](https://pret.github.io/). In addition to the pret Discord, also see the [VoidMatrix Discord (#decomp)](https://discord.gg/prUAgd5).
